"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react-native"),r=t.NativeModules.TuyaActivatorModule,o=t.NativeModules.TuyaBLEActivatorModule,n=t.NativeModules.TuyaBLEScannerModule;(e=exports.ActivatorType||(exports.ActivatorType={})).AP="THING_AP",e.EZ="THING_EZ",e.AP_4G_GATEWAY="THING_4G_GATEWAY",e.QR="THING_QR";var i=new t.NativeEventEmitter(t.NativeModules.TuyaRNEventEmitter);function u(e,t){return i.addListener(e,t)}var s=function(e,t){return e+"//"+t},a=t.NativeModules.TuyaDeviceModule,c={},d=t.NativeModules.TuyaHomeModule,p=t.NativeModules.TuyaHomeDataManagerModule;function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(null,arguments)}var m=t.NativeModules.TuyaHomeManagerModule,f=t.NativeModules.TuyaHomeMemberModule,v=t.NativeModules.TuyaDeviceModule,g=t.NativeModules.TuyaTimerModule,x=t.NativeModules.TuyaUserModule;exports.DEVLISTENER="devListener",exports.GROUPLISTENER="groupListener",exports.HARDWAREUPGRADELISTENER="hardwareUpgradeListener",exports.HOMECHANGE="homeChange",exports.HOMESTATUS="homeStatus",exports.SINGLETRANSFER="SingleTransfer",exports.SUBDEVLISTENER="subDevListener",exports.addEvent=u,exports.addMember=function(e){return f.addMember(e)},exports.addTimerWithTask=function(e){return g.addTimerWithTask(e)},exports.bridge=s,exports.cancelAccount=function(){return x.cancelAccount()},exports.createHome=function(e){return m.createHome(e)},exports.dismissHome=function(e){return d.dismissHome(e)},exports.getActivatorToken=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] getActivatorToken is not supported on iOS."),Promise.reject("Not supported on iOS")):r.getActivatorToken(e)},exports.getAllTimerWithDeviceId=function(e){try{return Promise.resolve(g.getAllTimerWithDeviceId(e)).then((function(e){return e.forEach((function(e){e.timerTaskStatus.open=!!e.timerTaskStatus.open})),e}))}catch(e){return Promise.reject(e)}},exports.getCurrentUser=function(){try{return Promise.resolve(x.getCurrentUser()).then((function(e){return e&&e.username?e:null}))}catch(e){return Promise.reject(e)}},exports.getCurrentWifi=function(e,t){return r.getCurrentWifi({},e,t)},exports.getDataPointStat=function(e){return a.getDataPointStat(e)},exports.getDevice=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] getDevice is not supported on iOS"),Promise.resolve(null)):a.getDevice(e)},exports.getDeviceData=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] getDevice is not supported on iOS"),Promise.resolve(null)):a.getDeviceData(e)},exports.getEmailValidateCode=function(e){return x.getEmailValidateCode(e)},exports.getHomeDetail=function(e){return d.getHomeDetail(e)},exports.getOtaInfo=function(e){return v.getOtaInfo(e)},exports.getRegisterEmailValidateCode=function(e){return x.getRegisterEmailValidateCode(e)},exports.getRoomDeviceList=function(e){return p.getRoomDeviceList(e)},exports.getTimerTaskStatusWithDeviceId=function(e){return g.getTimerTaskStatusWithDeviceId(e)},exports.initActivator=function(e){return r.initActivator(e)},exports.initBluetoothDualModeActivator=function(e){return"ios"===t.Platform.OS?o.initActivator(e):r.initBluetoothDualModeActivator(e)},exports.initBluetoothFlowAndroid=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] initBluetoothFlowAndroid is not supported on iOS."),Promise.reject("Not supported on iOS")):r.initBluetoothDualModeActivator(e)},exports.joinFamily=function(e){return m.joinFamily(e)},exports.loginWithEmail=function(e){return x.loginWithEmail(e)},exports.loginWithGuest=function(e){return x.loginWithTouristUser(e)},exports.logout=function(){return x.logout()},exports.openNetworkSettings=function(){return r.openNetworkSettings({})},exports.queryHomeList=function(){try{return Promise.resolve(m.queryHomeList()).then((function(e){return"android"===t.Platform.OS&&(e=e.map((function(e){return l({},e,{dealStatus:e.homeStatus})}))),e}))}catch(e){return Promise.reject(e)}},exports.queryMemberList=function(e){try{return Promise.resolve(f.queryMemberList(e)).then((function(e){return"android"===t.Platform.OS&&(e=e.map((function(e){return{admin:e.admin,username:e.account,id:e.memberId,dealStatus:e.memberStatus}}))),e}))}catch(e){return Promise.reject(e)}},exports.queryRoomList=function(e){return d.queryRoomList(e)},exports.registerAccountWithEmail=function(e){return x.registerAccountWithEmail(e)},exports.registerDevListener=function(e,t,r){a.registerDevListener(e);var o=u(s("devListener",e.devId),(function(e){e.type===t&&r(e)}));c[e.devId]=o},exports.removeDevice=function(e){return a.removeDevice(e)},exports.removeMember=function(e){return f.removeMember(e)},exports.removeTimerWithTask=function(e){return g.removeTimerWithTask(e)},exports.renameDevice=function(e){return a.renameDevice(e)},exports.resetEmailPassword=function(e){return x.resetEmailPassword(e)},exports.send=function(e){return a.send(e)},exports.sortRoom=function(e){return d.sortRoom(e)},exports.startAndroidBLEActivator=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] startAndroidBLEActivator is not supported on iOS."),Promise.reject("Not supported on iOS")):r.startBLEActivator(e)},exports.startBluetoothScan=function(){return"ios"===t.Platform.OS?n.startBluetoothScan():r.startBluetoothScan()},exports.startLateWifiActivation=function(e){return"ios"===t.Platform.OS?(console.error("[tuya] startLateWifiActivation is not supported on iOS."),Promise.reject("Not supported on iOS")):r.startLateWifiActivator(e)},exports.startOta=function(e,t,r,o){return v.startOta(e),u(s("hardwareUpgradeListener",e.devId),(function(e){"onSuccess"===e.type?t(e):"onFailure"===e.type?r(e):"onProgress"===e.type&&o(e)}))},exports.stopConfig=function(){return r.stopConfig()},exports.stopLePairing=function(){if("ios"===t.Platform.OS)return o.stopLePairing();console.error("[tuya] stopLePairing is not supported on Android as it is not needed.")},exports.unRegisterAllDevListeners=function(){for(var e in c)c[e].remove(),a.unRegisterDevListener({devId:e});c={}},exports.updateHome=function(e){return d.updateHome(e)},exports.updateTimerStatusWithTask=function(e){return g.updateTimerStatusWithTask(e)},exports.updateTimerWithTask=function(e){return g.updateTimerWithTask(e)};
//# sourceMappingURL=react-native-tuya.cjs.production.min.js.map
