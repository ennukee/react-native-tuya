"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react-native"),r=e.NativeModules.TuyaActivatorModule,o=e.NativeModules.TuyaBLEActivatorModule,n=e.NativeModules.TuyaV2ActivatorModule;(t=exports.ActivatorType||(exports.ActivatorType={})).AP="THING_AP",t.EZ="THING_EZ",t.AP_4G_GATEWAY="THING_4G_GATEWAY",t.QR="THING_QR";var i=new e.NativeEventEmitter(e.NativeModules.TuyaRNEventEmitter);function s(t,e){return i.addListener(t,e)}var u=function(t,e){return t+"//"+e},a=e.NativeModules.TuyaDeviceModule,c={},d=e.NativeModules.TuyaHomeModule,l=e.NativeModules.TuyaHomeDataManagerModule;function p(){return(p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)({}).hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(null,arguments)}var m=e.NativeModules.TuyaHomeManagerModule,f=e.NativeModules.TuyaHomeMemberModule,v=e.NativeModules.TuyaDeviceModule,g=e.NativeModules.TuyaTimerModule,x=e.NativeModules.TuyaUserModule;exports.DEVLISTENER="devListener",exports.GROUPLISTENER="groupListener",exports.HARDWAREUPGRADELISTENER="hardwareUpgradeListener",exports.HOMECHANGE="homeChange",exports.HOMESTATUS="homeStatus",exports.SINGLETRANSFER="SingleTransfer",exports.SUBDEVLISTENER="subDevListener",exports.addEvent=s,exports.addMember=function(t){return f.addMember(t)},exports.addTimerWithTask=function(t){return g.addTimerWithTask(t)},exports.bridge=u,exports.cancelAccount=function(){return x.cancelAccount()},exports.createHome=function(t){return m.createHome(t)},exports.dismissHome=function(t){return d.dismissHome(t)},exports.getActivatorToken=function(t){return"ios"===e.Platform.OS?n.getActivatorToken(t):r.getActivatorToken(t)},exports.getAllTimerWithDeviceId=function(t){try{return Promise.resolve(g.getAllTimerWithDeviceId(t)).then((function(t){return t.forEach((function(t){t.timerTaskStatus.open=!!t.timerTaskStatus.open})),t}))}catch(t){return Promise.reject(t)}},exports.getCurrentUser=function(){try{return Promise.resolve(x.getCurrentUser()).then((function(t){return t&&t.username?t:null}))}catch(t){return Promise.reject(t)}},exports.getCurrentWifi=function(t,e){return r.getCurrentWifi({},t,e)},exports.getDataPointStat=function(t){return a.getDataPointStat(t)},exports.getDevice=function(t){return"ios"===e.Platform.OS?(console.error("[tuya] getDevice is not supported on iOS"),Promise.resolve(null)):a.getDevice(t)},exports.getDeviceData=function(t){return"ios"===e.Platform.OS?(console.error("[tuya] getDevice is not supported on iOS"),Promise.resolve(null)):a.getDeviceData(t)},exports.getEmailValidateCode=function(t){return x.getEmailValidateCode(t)},exports.getHomeDetail=function(t){return d.getHomeDetail(t)},exports.getOtaInfo=function(t){return v.getOtaInfo(t)},exports.getRegisterEmailValidateCode=function(t){return x.getRegisterEmailValidateCode(t)},exports.getRoomDeviceList=function(t){return l.getRoomDeviceList(t)},exports.getTimerTaskStatusWithDeviceId=function(t){return g.getTimerTaskStatusWithDeviceId(t)},exports.initActivator=function(t){return r.initActivator(t)},exports.initBluetoothDualModeActivator=function(t){return"ios"===e.Platform.OS?o.initActivator(t):(console.error("[tuya] initBluetoothDualModeActivator is not supported on Android. Use initBluetoothFlowAndroid instead."),Promise.reject("Not supported on Android"))},exports.initBluetoothFlowAndroid=function(t){return"ios"===e.Platform.OS?(console.error("[tuya] initBluetoothFlowAndroid is not supported on iOS."),Promise.reject("Not supported on iOS")):r.initBluetoothDualModeActivator(t)},exports.joinFamily=function(t){return m.joinFamily(t)},exports.loginWithEmail=function(t){return x.loginWithEmail(t)},exports.loginWithGuest=function(t){return x.loginWithTouristUser(t)},exports.logout=function(){return x.logout()},exports.openNetworkSettings=function(){return r.openNetworkSettings({})},exports.queryHomeList=function(){try{return Promise.resolve(m.queryHomeList()).then((function(t){return"android"===e.Platform.OS&&(t=t.map((function(t){return p({},t,{dealStatus:t.homeStatus})}))),t}))}catch(t){return Promise.reject(t)}},exports.queryMemberList=function(t){try{return Promise.resolve(f.queryMemberList(t)).then((function(t){return"android"===e.Platform.OS&&(t=t.map((function(t){return{admin:t.admin,username:t.account,id:t.memberId,dealStatus:t.memberStatus}}))),t}))}catch(t){return Promise.reject(t)}},exports.queryRoomList=function(t){return d.queryRoomList(t)},exports.registerAccountWithEmail=function(t){return x.registerAccountWithEmail(t)},exports.registerDevListener=function(t,e,r){a.registerDevListener(t);var o=s(u("devListener",t.devId),(function(t){t.type===e&&r(t)}));c[t.devId]=o},exports.removeDevice=function(t){return a.removeDevice(t)},exports.removeMember=function(t){return f.removeMember(t)},exports.removeTimerWithTask=function(t){return g.removeTimerWithTask(t)},exports.renameDevice=function(t){return a.renameDevice(t)},exports.resetEmailPassword=function(t){return x.resetEmailPassword(t)},exports.send=function(t){return a.send(t)},exports.sortRoom=function(t){return d.sortRoom(t)},exports.startAndroidBLEActivator=function(t){return"ios"===e.Platform.OS?(console.error("[tuya] startAndroidBLEActivator is not supported on iOS."),Promise.reject("Not supported on iOS")):r.startWiFiActivator(t)},exports.startBluetoothScan=function(){return"ios"===e.Platform.OS?n.startBluetoothScan():r.startBluetoothScan()},exports.startLateWifiActivation=function(t){return"ios"===e.Platform.OS?n.activateBLEWifiChannel(t):r.startLateWifiActivator(t)},exports.startOfflineBLEActivator=function(t){return"ios"===e.Platform.OS?n.offlinePairBLEDevice(t):r.startOfflineBLEActivator(t)},exports.startOta=function(t,e,r,o){return v.startOta(t),s(u("hardwareUpgradeListener",t.devId),(function(t){"onSuccess"===t.type?e(t):"onFailure"===t.type?r(t):"onProgress"===t.type&&o(t)}))},exports.stopBluetoothScan=function(){return"android"===e.Platform.OS&&console.error("[tuya] stopBluetoothScan is not supported on Android as it is not needed."),n.stopBluetoothScan()},exports.stopConfig=function(){return r.stopConfig()},exports.stopLePairing=function(){if("ios"===e.Platform.OS)return o.stopLePairing();console.error("[tuya] stopLePairing is not supported on Android as it is not needed.")},exports.unRegisterAllDevListeners=function(){for(var t in c)c[t].remove(),a.unRegisterDevListener({devId:t});c={}},exports.updateHome=function(t){return d.updateHome(t)},exports.updateTimerStatusWithTask=function(t){return g.updateTimerStatusWithTask(t)},exports.updateTimerWithTask=function(t){return g.updateTimerWithTask(t)};
//# sourceMappingURL=react-native-tuya.cjs.production.min.js.map
