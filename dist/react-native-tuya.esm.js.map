{"version":3,"file":"react-native-tuya.esm.js","sources":["../src/activator.ts","../src/bridgeUtils.ts","../src/device.ts","../src/home.ts","../src/homeDataManager.ts","../src/homeManager.ts","../src/homeMember.ts","../src/ota.ts","../src/timer.ts","../src/user.ts"],"sourcesContent":["import { DeviceBean } from './device';\nimport { NativeModules, Platform } from 'react-native';\nimport { DeviceDetailResponse } from './home';\nimport { TuyaError } from './generic';\n\nconst tuya = NativeModules.TuyaActivatorModule;\nconst tuyaBLEActivator = NativeModules.TuyaBLEActivatorModule;\nconst tuyaV2Activator = NativeModules.TuyaV2ActivatorModule;\n\nexport function openNetworkSettings() {\n  return tuya.openNetworkSettings({});\n}\n\nexport enum ActivatorType {\n  AP = 'THING_AP',\n  EZ = 'THING_EZ',\n  AP_4G_GATEWAY = 'THING_4G_GATEWAY',\n  QR = 'THING_QR',\n}\n\nexport type InitActivatorParams = {\n  homeId: number;\n  ssid: string;\n  password: string;\n  time: number;\n  type: ActivatorType;\n};\n\nexport function initActivator(\n  params: InitActivatorParams\n): Promise<DeviceDetailResponse | TuyaError> {\n  return tuya.initActivator(params);\n}\n\nexport function stopConfig() {\n  return tuya.stopConfig();\n}\n\nexport function startBluetoothScan() {\n  if (Platform.OS === 'ios') {\n    return tuyaV2Activator.startBluetoothScan();\n  }\n  return tuya.startBluetoothScan();\n}\n\nexport function stopBluetoothScan() {\n  if (Platform.OS === 'android') {\n    console.error('[tuya] stopBluetoothScan is not supported on Android as it is not needed.');\n  }\n  return tuyaV2Activator.stopBluetoothScan();\n}\n\nexport function stopLePairing() {\n  if (Platform.OS === 'ios') {\n    return tuyaBLEActivator.stopLePairing();\n  } else {\n    console.error('[tuya] stopLePairing is not supported on Android as it is not needed.');\n  }\n}\n\nexport interface GetActivatorTokenParams {\n  homeId: number;\n}\nexport function getActivatorToken(\n  params: GetActivatorTokenParams\n): Promise<{ token: string } | TuyaError> {\n  if (Platform.OS === 'ios') {\n    return tuyaV2Activator.getActivatorToken(params);\n  }\n  return tuya.getActivatorToken(params);\n}\n\nexport interface AndroidBLEActivatorParams {\n  homeId: number;\n  ssid: string;\n  password: string;\n  uuid: string;\n  deviceType: number;\n  mac: string;\n  address: string;\n  token: string;\n}\nexport function startAndroidBLEActivator(params: AndroidBLEActivatorParams): Promise<DeviceBean | TuyaError> {\n  if (Platform.OS === 'ios') {\n    console.error('[tuya] startAndroidBLEActivator is not supported on iOS.');\n    return Promise.reject('Not supported on iOS');\n  }\n  return tuya.startWiFiActivator(params);\n}\n\nexport interface OfflineBLEActivatorParams {\n  homeId: number;\n  uuid?: string;\n  deviceType?: number;\n  mac?: string;\n  address?: string;\n  token?: string;\n}\nexport function startOfflineBLEActivator(params: OfflineBLEActivatorParams): Promise<DeviceBean | TuyaError> {\n  if (Platform.OS === 'ios') {\n    return tuyaV2Activator.offlinePairBLEDevice(params);\n  }\n  return tuya.startOfflineBLEActivator(params);\n}\n\nexport interface LateWifiActivationParams {\n  devId: string;\n  ssid: string;\n  password: string;\n}\nexport function startLateWifiActivation(params: LateWifiActivationParams): Promise<DeviceBean | TuyaError> {\n  if (Platform.OS === 'ios') {\n    return tuyaV2Activator.activateBLEWifiChannel(params);\n  }\n  return tuya.startLateWifiActivator(params);\n}\n\nexport interface InitBluetoothActivatorParams {\n  deviceId?: string;\n  productId?: string;\n  homeId: number;\n  ssid: string;\n  password: string;\n}\n\nexport function initBluetoothDualModeActivator(\n  params: InitBluetoothActivatorParams\n): Promise<DeviceBean | TuyaError> {\n  if (Platform.OS === 'ios') {\n    return tuyaBLEActivator.initActivator(params);\n  } else {\n    console.error('[tuya] initBluetoothDualModeActivator is not supported on Android. Use initBluetoothFlowAndroid instead.');\n    return Promise.reject('Not supported on Android');\n  }\n}\n\nexport interface InitBluetoothActivatorAndroidOutput {\n  device: DeviceBean;\n  uuid: string;\n  token: string;\n  mac: string;\n  address: string;\n  deviceType: string;\n}\n\nexport function initBluetoothFlowAndroid(\n  params: InitBluetoothActivatorParams\n): Promise<InitBluetoothActivatorAndroidOutput | TuyaError> {\n  if (Platform.OS === 'ios') {\n    console.error('[tuya] initBluetoothFlowAndroid is not supported on iOS.');\n    return Promise.reject('Not supported on iOS');\n  }\n  return tuya.initBluetoothDualModeActivator(params);\n}\n\nexport function getCurrentWifi(\n  success: (ssid: string) => void,\n  error: () => void\n) {\n  // We need the Allow While Using App location permission to use this.\n  return tuya.getCurrentWifi({}, success, error);\n}\n","import { NativeEventEmitter, NativeModules } from 'react-native';\n\nexport const GROUPLISTENER = 'groupListener';\nexport const HARDWAREUPGRADELISTENER = 'hardwareUpgradeListener';\nexport const DEVLISTENER = 'devListener';\nexport const SUBDEVLISTENER = 'subDevListener';\nexport const HOMESTATUS = 'homeStatus';\nexport const HOMECHANGE = 'homeChange';\nexport const SINGLETRANSFER = 'SingleTransfer';\n\nlet eventEmitter = new NativeEventEmitter(NativeModules.TuyaRNEventEmitter);\n\nexport function addEvent(eventName: string, callback: (data: any) => any) {\n  return eventEmitter.addListener(eventName, callback);\n}\nexport const bridge = (key: string, id: string | number) => `${key}//${id}`;\n","import { NativeModules, EmitterSubscription, Platform } from 'react-native';\nimport { addEvent, bridge, DEVLISTENER } from './bridgeUtils';\nimport { TuyaError } from './generic';\n\nconst tuya = NativeModules.TuyaDeviceModule;\n\nexport type DeviceBean = {\n  productId: string;\n  devId: string;\n  verSw: string;\n  name: string;\n  dps: DeviceDps;\n  uuid: string;\n  communicationId: string;\n  connectionStatus: number;\n  bluetooth: boolean;\n  cloudOnline: boolean;\n  isOnline: boolean;\n  mac: string;\n  address: string;\n  deviceType: number;\n};\n\nexport type DevListenerParams = {\n  devId: string;\n};\n\nexport type DevListenerType =\n  | 'onDpUpdate'\n  | 'onRemoved'\n  | 'onStatusChanged'\n  | 'onNetworkStatusChanged'\n  | 'onDevInfoUpdate'\n  | 'onFirmwareUpgradeSuccess'\n  | 'onFirmwareUpgradeFailure'\n  | 'onFirmwareUpgradeProgress';\n\nlet devListenerSubs: { [devId: string]: EmitterSubscription } = {};\n\nexport function registerDevListener(\n  params: DevListenerParams,\n  type: DevListenerType,\n  callback: (data: any) => void\n) {\n  tuya.registerDevListener(params);\n  const sub = addEvent(bridge(DEVLISTENER, params.devId), data => {\n    if (data.type === type) {\n      callback(data);\n    }\n  });\n  devListenerSubs[params.devId] = sub;\n}\n\nexport function unRegisterAllDevListeners() {\n  for (const devId in devListenerSubs) {\n    const sub = devListenerSubs[devId];\n    sub.remove();\n    tuya.unRegisterDevListener({ devId });\n  }\n  devListenerSubs = {};\n}\n\nexport type GetDeviceParams = {\n  devId: string;\n};\n\nexport function getDevice(params: GetDeviceParams): Promise<any> {\n  if (Platform.OS === 'ios') {\n    console.error('[tuya] getDevice is not supported on iOS');\n    return Promise.resolve(null);\n  }\n  return tuya.getDevice(params);\n}\n\nexport function getDeviceData(params: GetDeviceParams): Promise<any> {\n  if (Platform.OS === 'ios') {\n    console.error('[tuya] getDevice is not supported on iOS');\n    return Promise.resolve(null);\n  }\n  return tuya.getDeviceData(params);\n}\n\nexport type DeviceDpValue = boolean | number | string;\nexport type DeviceDps = {\n  [dpId: string]: DeviceDpValue;\n};\nexport type SendParams = {\n  devId: string;\n} & DeviceDps;\n\nexport function send(params: object) {\n  return tuya.send(params);\n}\n\nexport type RemoveDeviceParams = { devId: string };\n\nexport function removeDevice(params: RemoveDeviceParams): Promise<string | TuyaError> {\n  return tuya.removeDevice(params);\n}\n\nexport type RenameDeviceParams = { devId: string; name: string };\n\nexport function renameDevice(params: RenameDeviceParams): Promise<string | TuyaError> {\n  return tuya.renameDevice(params);\n}\n\nexport type GetDataPointStatsParams = {\n  devId: string;\n  DataPointTypeEnum: 'DAY' | 'WEEK' | 'MONTH';\n  number: number; // number of historical data result values, up to 50\n  dpId: string;\n  startTime: number; // in ms\n};\n\nexport function getDataPointStat(\n  params: GetDataPointStatsParams\n): Promise<any> {\n  return tuya.getDataPointStat(params);\n}\n","import { NativeModules } from 'react-native';\nimport { DeviceDps } from './device';\nimport { TuyaError } from './generic';\n\nconst tuya = NativeModules.TuyaHomeModule;\n\nexport type QueryRoomListParams = {\n  homeId?: number;\n};\nexport type QueryRoomListResponse = {\n  name: string;\n  displayOrder: number;\n  id: number;\n  roomId: number;\n}[];\n\nexport function queryRoomList(\n  params: QueryRoomListParams\n): Promise<QueryRoomListResponse | TuyaError> {\n  return tuya.queryRoomList(params);\n}\n\nexport type GetHomeDetailParams = {\n  homeId: number;\n};\nexport type DeviceDetailResponse = {\n  homeId: number;\n  isOnline: boolean;\n  cloudOnline: boolean;\n  productId: string;\n  devId: string;\n  verSw: string;\n  name: string;\n  dps: DeviceDps;\n  homeDisplayOrder: number;\n  roomId: number;\n  uuid: string;\n  communicationId: string;\n  connectionStatus: number;\n  meta?: {\n    wifiEnable?: boolean;\n  }\n};\nexport type GetHomeDetailResponse = {\n  deviceList: DeviceDetailResponse[];\n  groupList: any[];\n  meshList: any[];\n  sharedDeviceList: any[];\n  sharedGroupList: any[];\n};\n\nexport function getHomeDetail(\n  params: GetHomeDetailParams\n): Promise<GetHomeDetailResponse | TuyaError> {\n  return tuya.getHomeDetail(params);\n}\n\nexport type UpdateHomeParams = {\n  homeId: number;\n  name: string;\n  geoName: string;\n  lon: number;\n  lat: number;\n};\n\nexport function updateHome(params: UpdateHomeParams): Promise<string | TuyaError> {\n  return tuya.updateHome(params);\n}\n\nexport type DismissHomeParams = {\n  homeId: number;\n};\n\nexport function dismissHome(params: DismissHomeParams): Promise<string | TuyaError> {\n  return tuya.dismissHome(params);\n}\n\nexport type SortRoomsParams = {\n  idList: number[];\n  homeId: number;\n};\n\nexport function sortRoom(params: SortRoomsParams): Promise<string | TuyaError> {\n  return tuya.sortRoom(params);\n}\n","import { TuyaError } from './generic';\nimport { NativeModules } from 'react-native';\n\nconst tuya = NativeModules.TuyaHomeDataManagerModule;\n\nexport type GetRoomDeviceListParams = {\n  homeId?: number;\n  roomId: number;\n};\n\nexport type GetRoomDeviceListResponse = {\n  deviceList: {}[];\n  groupList: {}[];\n};\n\nexport function getRoomDeviceList(\n  params: GetRoomDeviceListParams\n): Promise<GetRoomDeviceListResponse | TuyaError> {\n  return tuya.getRoomDeviceList(params);\n}\n","import { DeviceBean } from 'device';\nimport { TuyaError } from './generic';\nimport { NativeModules, Platform } from 'react-native';\n\nconst tuya = NativeModules.TuyaHomeManagerModule;\n\nexport type CreateHomeParams = {\n  name: string;\n  geoName: string;\n  lon: number;\n  lat: number;\n  rooms: string[];\n};\n\nexport type HomeDetailsResponse = {\n  name: string;\n  admin: boolean;\n  background: string;\n  dealStatus?: 1 | 2; // 1 = unaccepted 2 = accepted\n  deviceList: DeviceBean[];\n  displayOrder: number;\n  geoName: string;\n  gid: number;\n  homeId: number;\n  lat: number;\n  lon: number;\n};\n\nexport function createHome(params: CreateHomeParams): Promise<HomeDetailsResponse | TuyaError> {\n  return tuya.createHome(params);\n}\n\nexport type QueryHomeListResponse = HomeDetailsResponse[];\n\nexport async function queryHomeList(): Promise<QueryHomeListResponse | TuyaError> {\n  let homes = await tuya.queryHomeList();\n  // Tuya's Android SDK uses different property names than the iOS SDK...\n  if (Platform.OS === 'android') {\n    homes = homes.map((m: any) => ({\n      ...m,\n      dealStatus: m.homeStatus,\n    }));\n  }\n  return homes;\n}\n\nexport type JoinFamilyParams = {\n  homeId: number;\n  action: boolean;\n};\n\nexport function joinFamily(params: JoinFamilyParams) {\n  return tuya.joinFamily(params);\n}\n","import { TuyaError } from './generic';\nimport { NativeModules, Platform } from 'react-native';\n\nconst tuya = NativeModules.TuyaHomeMemberModule;\n\nexport type QueryMemberListParams = { homeId: number };\nexport type MemberListItem = {\n  admin: boolean;\n  username: string;\n  id: number;\n  dealStatus: number;\n};\nexport type QueryMemberListResponse = MemberListItem[];\n\nexport async function queryMemberList(\n  params: QueryMemberListParams\n): Promise<QueryMemberListResponse | TuyaError> {\n  let members = await tuya.queryMemberList(params);\n  // Tuya's Android SDK uses different property names than the iOS SDK...\n  if (Platform.OS === 'android') {\n    members = members.map((m: any) => ({\n      admin: m.admin,\n      username: m.account,\n      id: m.memberId,\n      dealStatus: m.memberStatus,\n    }));\n  }\n  return members;\n}\n\nexport type AddMemberParams = {\n  homeId: number;\n  userAccount: string; // email\n  countryCode: string;\n  name: string;\n  admin: boolean;\n};\n\nexport function addMember(params: AddMemberParams): Promise<any> {\n  return tuya.addMember(params);\n}\n\nexport type RemoveMemberParams = {\n  memberId: number;\n};\n\nexport function removeMember(params: RemoveMemberParams): Promise<any> {\n  return tuya.removeMember(params);\n}\n","import { NativeModules } from 'react-native';\nimport { addEvent, bridge, HARDWAREUPGRADELISTENER } from './bridgeUtils';\nimport { TuyaError } from './generic';\n\nconst tuya = NativeModules.TuyaDeviceModule;\n\nexport type StartOtaParams = {\n  devId: string;\n};\n\nexport function startOta(\n  params: StartOtaParams,\n  onSuccess: (data: any) => void,\n  onFailure: (data: any) => void,\n  onProgress: (data: any) => void\n) {\n  tuya.startOta(params);\n  return addEvent(bridge(HARDWAREUPGRADELISTENER, params.devId), data => {\n    if (data.type === 'onSuccess') {\n      onSuccess(data);\n    } else if (data.type === 'onFailure') {\n      onFailure(data);\n    } else if (data.type === 'onProgress') {\n      onProgress(data);\n    }\n  });\n}\n\nexport function getOtaInfo(params: StartOtaParams): Promise<any[] | TuyaError> {\n  return tuya.getOtaInfo(params);\n}\n","import { NativeModules } from 'react-native';\nimport { DeviceDps } from './device';\nimport { TuyaError } from './generic';\n\nconst tuya = NativeModules.TuyaTimerModule;\n\nexport type AddTimerWithTaskDpsParams = {\n  devId: number;\n  taskName: string;\n  loops: string; // Number of cycles \"0000000\", each 0: off, 1: on, from left to right: Sunday, Monday, Tuesday, Wednesday, Thursday, Friday, Saturday\n  time: string; // e.g. 14:29\n  dps: DeviceDps;\n};\n\nexport function addTimerWithTask(\n  params: AddTimerWithTaskDpsParams\n): Promise<any> {\n  return tuya.addTimerWithTask(params);\n}\n\nexport type UpdateTimerWithTaskParams = AddTimerWithTaskDpsParams & {\n  timerId: string;\n  isOpen: boolean;\n};\n\nexport function updateTimerWithTask(\n  params: UpdateTimerWithTaskParams\n): Promise<any> {\n  return tuya.updateTimerWithTask(params);\n}\n\nexport type GetTimerTaskStatusWithDeviceIdParams = {\n  devId: number;\n};\n\nexport function getTimerTaskStatusWithDeviceId(\n  params: GetTimerTaskStatusWithDeviceIdParams\n): Promise<any> {\n  return tuya.getTimerTaskStatusWithDeviceId(params);\n}\n\nexport type GetAllTimerWithDeviceIdParams = {\n  devId: number;\n};\n\nexport type TimerTask = {\n  timerList: {\n    timerId: string;\n    loops: string;\n    time: string;\n    status: number;\n  }[];\n  timerTaskStatus: { open: boolean; timerName: string };\n};\n\nexport type GetAllTimerWithDeviceIdResponse = TimerTask[];\n\nexport async function getAllTimerWithDeviceId(\n  params: GetAllTimerWithDeviceIdParams\n): Promise<GetAllTimerWithDeviceIdResponse | TuyaError> {\n  const timers = await tuya.getAllTimerWithDeviceId(params);\n  timers.forEach((t: any) => {\n    t.timerTaskStatus.open = !!t.timerTaskStatus.open;\n  });\n  return timers;\n}\n\nexport type RemoveTimerWithTaskParams = {\n  devId: number;\n  taskName: string;\n  timerId: string;\n};\n\nexport function removeTimerWithTask(\n  params: RemoveTimerWithTaskParams\n): Promise<any> {\n  return tuya.removeTimerWithTask(params);\n}\n\nexport type UpdateTimerStatusWithTaskParams = {\n  devId: number;\n  taskName: string;\n  timerId: string;\n  isOpen: boolean;\n};\n\nexport function updateTimerStatusWithTask(\n  params: UpdateTimerStatusWithTaskParams\n): Promise<any> {\n  return tuya.updateTimerStatusWithTask(params);\n}\n","import { TuyaError } from './generic';\nimport { NativeModules } from 'react-native';\n\nconst tuya = NativeModules.TuyaUserModule;\n\nexport type RegisterAccountWithEmailParams = {\n  countryCode: string;\n  email: string;\n  validateCode: string;\n  password: string;\n};\nexport function registerAccountWithEmail(\n  params: RegisterAccountWithEmailParams\n): Promise<any> {\n  return tuya.registerAccountWithEmail(params);\n}\n\nexport type GetEmailValidateCodeParams = {\n  countryCode: string;\n  email: string;\n};\nexport function getRegisterEmailValidateCode(\n  params: GetEmailValidateCodeParams\n): Promise<any> {\n  return tuya.getRegisterEmailValidateCode(params);\n}\n\n\nexport type LoginWithEmailParams = {\n  email: string;\n  password: string;\n  countryCode: string;\n};\nexport function loginWithEmail(params: LoginWithEmailParams): Promise<any> {\n  return tuya.loginWithEmail(params);\n}\n\nexport function getEmailValidateCode(\n  params: GetEmailValidateCodeParams\n): Promise<any> {\n  return tuya.getEmailValidateCode(params);\n}\n\nexport type ResetEmailPasswordParams = {\n  email: string;\n  countryCode: string;\n  validateCode: string;\n  newPassword: string;\n};\nexport function resetEmailPassword(\n  params: ResetEmailPasswordParams\n): Promise<any> {\n  return tuya.resetEmailPassword(params);\n}\n\nexport function logout(): Promise<string | TuyaError> {\n  return tuya.logout();\n}\n\nexport type User = {\n  email: string;\n  username: string;\n  sid: string;\n  timezoneId: string;\n  uid: string;\n  userType: number;\n  headPic: string;\n  mobile: string;\n  nickName: string;\n  phoneCode: string;\n};\n\nexport async function getCurrentUser(): Promise<User | null | TuyaError> {\n  const user = await tuya.getCurrentUser();\n  // The iOS SDK returns an empty user model but the Android one doesn't.\n  // Need to check for username over email, as guest accounts do not have an email.\n  return user && user.username ? user : null;\n}\n\nexport function cancelAccount(): Promise<string | TuyaError> {\n  return tuya.cancelAccount();\n}\n\nexport type GuestAccountLoginParams = {\n  countryCode: string;\n  nickname: string;\n};\n\nexport function loginWithGuest(params: GuestAccountLoginParams): Promise<any> {\n  return tuya.loginWithTouristUser(params);\n}\n"],"names":["tuya","NativeModules","TuyaActivatorModule","tuyaBLEActivator","TuyaBLEActivatorModule","tuyaV2Activator","TuyaV2ActivatorModule","openNetworkSettings","ActivatorType","initActivator","params","stopConfig","startBluetoothScan","Platform","OS","stopBluetoothScan","console","error","stopLePairing","getActivatorToken","startAndroidBLEActivator","Promise","reject","startWiFiActivator","startOfflineBLEActivator","offlinePairBLEDevice","startLateWifiActivation","activateBLEWifiChannel","startLateWifiActivator","initBluetoothDualModeActivator","initBluetoothFlowAndroid","getCurrentWifi","success","GROUPLISTENER","HARDWAREUPGRADELISTENER","DEVLISTENER","SUBDEVLISTENER","HOMESTATUS","HOMECHANGE","SINGLETRANSFER","eventEmitter","NativeEventEmitter","TuyaRNEventEmitter","addEvent","eventName","callback","addListener","bridge","key","id","TuyaDeviceModule","devListenerSubs","registerDevListener","type","sub","devId","data","unRegisterAllDevListeners","remove","unRegisterDevListener","getDevice","resolve","getDeviceData","send","removeDevice","renameDevice","getDataPointStat","TuyaHomeModule","queryRoomList","getHomeDetail","updateHome","dismissHome","sortRoom","TuyaHomeDataManagerModule","getRoomDeviceList","queryHomeList","then","homes","map","m","_extends","dealStatus","homeStatus","e","TuyaHomeManagerModule","createHome","joinFamily","queryMemberList","members","admin","username","account","memberId","memberStatus","TuyaHomeMemberModule","addMember","removeMember","startOta","onSuccess","onFailure","onProgress","getOtaInfo","getAllTimerWithDeviceId","timers","forEach","t","timerTaskStatus","open","TuyaTimerModule","addTimerWithTask","updateTimerWithTask","getTimerTaskStatusWithDeviceId","removeTimerWithTask","updateTimerStatusWithTask","getCurrentUser","user","TuyaUserModule","registerAccountWithEmail","getRegisterEmailValidateCode","loginWithEmail","getEmailValidateCode","resetEmailPassword","logout","cancelAccount","loginWithGuest","loginWithTouristUser"],"mappings":"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"}